<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To√°n 8 - T√≠nh ch·∫•t c·ªßa H√¨nh thoi</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Palette m√†u s·∫Øc t∆∞∆°i s√°ng */
            --bg-gradient: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
            
            --card-prob-head: linear-gradient(to right, #11998e, #38ef7d);
            --card-1-head: linear-gradient(to right, #ff9966, #ff5e62);
            --card-2-head: linear-gradient(to right, #8e2de2, #4a00e0);
            
            --text-dark: #2d3436;
            --white: #ffffff;
            --shadow: 0 10px 20px rgba(0,0,0,0.1);
            --radius: 16px;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-image: var(--bg-gradient);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            color: var(--text-dark);
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }

        .container {
            width: 100%;
            max-width: 850px;
            margin-top: 20px;
            padding-bottom: 50px;
        }

        /* HEADER */
        .main-title {
            text-align: center;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            font-size: 2.2rem;
            margin-bottom: 30px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
            padding: 15px;
            border-radius: var(--radius);
            border: 2px solid rgba(255,255,255,0.3);
        }

        /* CARD STYLES */
        .card {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            overflow: hidden;
            transition: transform 0.3s ease;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-header {
            padding: 15px 25px;
            color: var(--white);
            font-weight: 800;
            font-size: 1.1rem;
            text-transform: uppercase;
            display: flex;
            align-items: center;
        }
        
        .prob-header { background: var(--card-prob-head); }
        .part1-header { background: var(--card-1-head); }
        .part2-header { background: var(--card-2-head); }

        .card-body {
            padding: 25px;
            font-size: 1.05rem;
        }

        /* VISUALIZATION AREA */
        .visualization-area {
            background-color: #fff;
            background-image: 
                linear-gradient(#e6e6fa 1px, transparent 1px),
                linear-gradient(90deg, #e6e6fa 1px, transparent 1px);
            background-size: 25px 25px;
            border: 2px dashed #b19cd9;
            border-radius: var(--radius);
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 30px 0;
            margin: 20px 0;
            position: relative;
        }

        /* SVG STYLES - ƒê√É CH·ªàNH S·ª¨A HI·ªÜU ·ª®NG */
        svg {
            width: 240px;
            height: 240px;
            overflow: visible;
        }

        .shape {
            fill: #ff6b6b; /* M√†u g·ªëc */
            stroke: #fff;
            stroke-width: 2px;
            cursor: pointer;
            /* Chuy·ªÉn ƒë·ªông m∆∞·ª£t m√† cho m√†u v√† b√≥ng */
            transition: fill 0.3s ease, filter 0.3s ease, stroke 0.3s ease; 
        }

        /* Hi·ªáu ·ª©ng Hover m·ªõi: KH√îNG rung l·∫Øc, ch·ªâ ph√°t s√°ng */
        .shape:hover, .shape.active {
            fill: #feca57; /* Chuy·ªÉn sang m√†u v√†ng t∆∞∆°i */
            stroke: #2d3436; /* Vi·ªÅn ƒë·∫≠m h∆°n ƒë·ªÉ r√µ n√©t */
            /* T·∫°o hi·ªáu ·ª©ng ph√°t s√°ng nh·∫π xung quanh (Glow) */
            filter: drop-shadow(0 0 10px rgba(254, 202, 87, 0.7)); 
            z-index: 10;
        }

        /* BUTTONS & INPUTS */
        .option-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .option-btn {
            background: #f1f2f6;
            border: 2px solid transparent;
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 700;
            color: #57606f;
            transition: all 0.2s;
            text-align: left;
        }

        .option-btn:hover {
            background: #dfe4ea;
            border-color: #ccc;
        }

        .option-btn.selected {
            background: #fff0ed;
            border-color: #ff6b6b;
            color: #ff6b6b;
        }

        .btn {
            background-image: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(37, 117, 252, 0.4);
            transition: transform 0.2s;
        }
        
        .btn:hover { transform: scale(1.02); }
        
        .btn-outline {
            background: white;
            color: #f0932b;
            border: 2px solid #f0932b;
            box-shadow: none;
        }
        .btn-outline:hover { background: #fff8e1; }

        .input-wrapper {
            background: #f1f2f6;
            padding: 20px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        input[type="number"] {
            border: 2px solid #ced6e0;
            border-radius: 8px;
            padding: 10px;
            width: 100px;
            font-size: 1.2rem;
            font-weight: bold;
            color: #2f3542;
            text-align: center;
        }
        input[type="number"]:focus {
            border-color: #8e2de2;
            outline: none;
        }

        /* MESSAGES */
        .msg {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            display: none;
            animation: slideIn 0.4s ease;
        }
        .msg.success { background: #dff9fb; color: #130f40; border-left: 5px solid #22a6b3; }
        .msg.error { background: #ffdd59; color: #483d8b; border-left: 5px solid #f0932b; }
        .msg.hint { background: #eee; border-left: 5px solid #95afc0; font-style: italic; }

        .hidden { display: none; }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .icon { margin-right: 8px; font-size: 1.2em; }
    </style>
</head>
<body>

<div class="container">

    <h1 class="main-title">‚ú® T√≠nh ch·∫•t c·ªßa H√¨nh thoi ‚ú®</h1>

    <div class="card">
        <div class="card-header prob-header">
            <span class="icon">üìù</span> ƒê·ªÄ B√ÄI
        </div>
        <div class="card-body">
            <p>M·ªôt hoa vƒÉn trang tr√≠ ƒë∆∞·ª£c gh√©p b·ªüi ba h√¨nh t·ª© gi√°c c√≥ ƒë·ªô d√†i m·ªói c·∫°nh ƒë·ªÅu b·∫±ng <strong>2 cm</strong> (H√¨nh b√™n d∆∞·ªõi).</p>
            <ul style="list-style: none; padding-left: 10px;">
                <li>üîπ <strong>a)</strong> G·ªçi t√™n c√°c t·ª© gi√°c n√†y.</li>
                <li>üîπ <strong>b)</strong> T√≠nh chu vi c·ªßa hoa vƒÉn.</li>
            </ul>
        </div>
    </div>

    <div class="visualization-area">
        <svg viewBox="0 0 200 200">
            <defs>
                <path id="rhombus-def" d="M 0 0 L 25 43.3 L 0 86.6 L -25 43.3 Z" />
            </defs>
            <g transform="translate(100, 100)">
                <use href="#rhombus-def" class="shape" transform="rotate(180)" onclick="selectShape(this)"/>
                <use href="#rhombus-def" class="shape" transform="rotate(60)" onclick="selectShape(this)"/>
                <use href="#rhombus-def" class="shape" transform="rotate(-60)" onclick="selectShape(this)"/>
            </g>
        </svg>
    </div>

    <div class="card" id="part1">
        <div class="card-header part1-header">
            <span class="icon">üîç</span> C√¢u a: Nh·∫≠n d·∫°ng h√¨nh
        </div>
        <div class="card-body">
            <p>H√£y quan s√°t v√† ch·ªçn t√™n g·ªçi ƒë√∫ng nh·∫•t cho c√°c t·ª© gi√°c tr√™n:</p>
            
            <div class="option-group">
                <button class="option-btn" onclick="checkPart1(this, 'thang')">A. H√¨nh thang</button>
                <button class="option-btn" onclick="checkPart1(this, 'binhhanh')">B. H√¨nh b√¨nh h√†nh</button>
                <button class="option-btn" onclick="checkPart1(this, 'thoi')">C. H√¨nh thoi</button>
                <button class="option-btn" onclick="checkPart1(this, 'chunhat')">D. H√¨nh ch·ªØ nh·∫≠t</button>
            </div>

            <div id="fb1" class="msg"></div>
        </div>
    </div>

    <div class="card hidden" id="part2">
        <div class="card-header part2-header">
            <span class="icon">üßÆ</span> C√¢u b: T√≠nh chu vi
        </div>
        <div class="card-body">
            <p>Bi·∫øt ƒë·ªô d√†i m·ªói c·∫°nh c·ªßa h√¨nh thoi l√† <strong style="color:#d35400; font-size:1.2em">2 cm</strong>.</p>
            <p>H√£y t√≠nh <strong>chu vi c·ªßa hoa vƒÉn</strong> (t·ªïng ƒë·ªô d√†i ƒë∆∞·ªùng bao quanh).</p>
            
            <div class="input-wrapper">
                <label>Chu vi = </label>
                <input type="number" id="perimeterInput" placeholder="?"> 
                <span>cm</span>
            </div>

            <div style="display: flex; gap: 10px;">
                <button class="btn" onclick="checkPart2()">Ki·ªÉm tra k·∫øt qu·∫£</button>
                <button class="btn btn-outline" id="btnHint" onclick="showHint()">B√≠ qu√°? Xem g·ª£i √Ω</button>
            </div>

            <div id="hintBox" class="msg hint"></div>
            <div id="fb2" class="msg"></div>
        </div>
    </div>

</div>

<script>
    // Logic highlight h√¨nh
    function selectShape(el) {
        if (el.classList.contains('active')) {
            el.classList.remove('active');
        } else {
            el.classList.add('active');
        }
    }

    // Logic Ph·∫ßn 1
    function checkPart1(btn, val) {
        document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');

        const fb = document.getElementById('fb1');
        fb.style.display = 'block';

        if (val === 'thoi') {
            fb.className = 'msg success';
            fb.innerHTML = '<strong>üéâ Ch√≠nh x√°c!</strong> V√¨ 4 c·∫°nh b·∫±ng nhau n√™n ƒë√¢y l√† H√¨nh Thoi.';
            
            setTimeout(() => {
                const p2 = document.getElementById('part2');
                p2.classList.remove('hidden');
                p2.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 1000);
            
            document.querySelectorAll('.option-btn').forEach(b => b.disabled = true);
        } else {
            fb.className = 'msg error';
            fb.innerHTML = '<strong>ü§î Ch∆∞a ƒë√∫ng r·ªìi.</strong> H√£y nh√¨n k·ªπ ƒë·ªô d√†i c√°c c·∫°nh nh√©!';
        }
    }

    // Logic G·ª£i √Ω
    let hintStep = 0;
    const hints = [
        "Chu vi hoa vƒÉn l√† t·ªïng ƒë·ªô d√†i c√°c c·∫°nh n·∫±m ·ªü ƒë∆∞·ªùng vi·ªÅn ngo√†i c√πng.",
        "C√°c h√¨nh thoi n√†y gh√©p chung ƒë·ªânh, n√™n c√°c c·∫°nh ƒë·ªÅu n·∫±m ra ngo√†i.",
        "ƒê·∫øm t·ªïng s·ªë c·∫°nh r·ªìi nh√¢n v·ªõi 2 cm nh√©!"
    ];

    function showHint() {
        const box = document.getElementById('hintBox');
        const btn = document.getElementById('btnHint');
        box.style.display = 'block';
        
        if (hintStep < hints.length) {
            box.innerText = "üí° G·ª£i √Ω: " + hints[hintStep];
            hintStep++;
        } else {
            box.innerText = "üí° Ch·ªët: C√≥ t·∫•t c·∫£ 12 c·∫°nh. Em t√≠nh xem!";
            btn.innerText = "H·∫øt g·ª£i √Ω";
            btn.disabled = true;
        }
    }

    // Logic Ph·∫ßn 2
    function checkPart2() {
        const val = parseFloat(document.getElementById('perimeterInput').value);
        const fb = document.getElementById('fb2');
        fb.style.display = 'block';

        if (val === 24) {
            fb.className = 'msg success';
            fb.innerHTML = '<strong>üèÜ Xu·∫•t s·∫Øc! ƒê√°p √°n ƒë√∫ng l√† 24 cm.</strong><br>Gi·∫£i th√≠ch: 3 h√¨nh thoi x 4 c·∫°nh = 12 c·∫°nh. <br>12 c·∫°nh x 2 cm = 24 cm.';
        } else {
            fb.className = 'msg error';
            fb.innerHTML = 'üòÖ Ti·∫øc qu√°, ch∆∞a ƒë√∫ng. H√£y ƒë·∫øm k·ªπ s·ªë c·∫°nh c·ªßa b√¥ng hoa nh√©.';
        }
    }
</script>

</body>
</html>
